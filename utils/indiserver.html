

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>indiserver &mdash; MagAO-X Instrument Handbook  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/stats.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="logdump" href="logdump.html" />
    <link rel="prev" title="evalINDI" href="evalINDI.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/magao-x_logo_white.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../capabilities.html">Instrument description and capabilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../planning.html">Planning your observations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operations.html">Operation of the MagAO-X instrument</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reduction.html">Data reduction and calibration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apps/index.html">Applications</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Utilities</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="getINDI.html">getINDI</a></li>
<li class="toctree-l2"><a class="reference internal" href="setINDI.html">setINDI</a></li>
<li class="toctree-l2"><a class="reference internal" href="evalINDI.html">evalINDI</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">indiserver</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#name">Name</a></li>
<li class="toctree-l3"><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li class="toctree-l3"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#options">Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#driver">Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exit-status">Exit Status</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="logdump.html">logdump</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../appendices/index.html">Appendices</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MagAO-X Instrument Handbook</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Utilities</a> &raquo;</li>
        
      <li>indiserver</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/utils/indiserver.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="indiserver">
<h1>indiserver<a class="headerlink" href="#indiserver" title="Permalink to this headline">¶</a></h1>
<div class="section" id="name">
<h2>Name<a class="headerlink" href="#name" title="Permalink to this headline">¶</a></h2>
<p>indiserver − provide socket access to one or more local or remote INDI drivers</p>
</div>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">indiserver</span> <span class="p">[</span><span class="n">options</span><span class="p">]</span> <span class="n">driver</span> <span class="p">[</span><span class="n">driver</span> <span class="o">...</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>indiserver is a TCP server that provides network access to any number of local INDI Driver programs or INDI Devices running on other indiservers in a chained fashion.</p>
</div>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<table>
<colgroup>
<col width="10%" />
<col width="20%" />
<col width="60%" />
</colgroup>
<tbody>
<tr class="odd">
<td align="left"></td>
<td align="left"><p>-l dir</p></td>
<td align="left"><p>enables logging all driver and internal messages to files in the given directory, otherwise they go to stderr. The file is named YYYY-MM-DD.islog and thus begins anew each day. Each log entry consists of the timestamp, the device and the message.</p></td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><p>-m <em>m</em></p></td>
<td align="left"><p>specifies the maximum number of megabytes a client is allowed to get behind reading. If the client queue exceeds this amount, the client is killed. The default value is 50 MB.</p></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><p>-n</p></td>
<td align="left"><p>ignore /tmp/noindi</p></td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><p>-p <em>p</em></p></td>
<td align="left"><p>specifies that the indiserver listen to port p, instead of the default standard INDI port of 7624.</p></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><p>-v</p></td>
<td align="left"><p>arranges for additional trace information to be printed to stderr. These are cumulative. One (-v) reports each client connect and disconnect and driver snoops. Two (-vv) adds key information about each message being sent or received in the form of the client channel or device name; the toplevel INDI XML element; the device, property name, state, perm and message attributes as appropriate; then the name and value of each array member of the INDI element. Three (-vvv) adds the complete XML message.</p></td>
</tr>
</tbody>
</table></div>
<div class="section" id="driver">
<h2>Driver<a class="headerlink" href="#driver" title="Permalink to this headline">¶</a></h2>
<p>Each additional argument can be either the name of a local program to run or a specification of an INDI Device on a remote indiserver.</p>
<p>A local program is specified as the path name of the execuble to run (not the name of the Device it implements). The program is presumed to implement the INDI protocol on its stdin and stdout channels to implement exactly one Device. The program may send ad-hoc out-of-band error or trace messages to its stderr, each line of which will be prefixed with the name of the Device and a timestamp then is merged in with the indiserver’s stderr.</p>
<p>A remote Device is given in the form device&#64;host[:port], where device is the INDI device already available on another running instance of indiserver, host is the TCP host name on which said instance is running and the optional port is the port on which to connect if other than the standard port 7624. Again, remote connections specify the name of the Device, irrespective of the name of its local driver program. This remote connection ability is referred to as indiserver “chaining”.</p>
<p>Indiserver will attempt to restart a driver that dies unless the file /tmp/noindi exists. Automatically restarting drivers helps create a more robust environment for clients, and allows for easily killing and restarting a driver any number of times during driver development without also killing indiserver and restarting clients.</p>
<p>Indiserver queues messages separately for each client and driver in an attempt to avoid slow consumers from effecting faster consumers. However, if a client ever gets more than 50MB behind in its queue (or as set using -m), it is considered hopelessly slow and is shut down.</p>
</div>
<div class="section" id="exit-status">
<h2>Exit Status<a class="headerlink" href="#exit-status" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">indiserver</span></code> is intended to run forever and so never exits normally. If it does exit, it prints a message to stderr and exits with status 1.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>In the following discussion, suppose there are driver programs named <code class="docutils literal notranslate"><span class="pre">cam</span></code>, <code class="docutils literal notranslate"><span class="pre">ota</span></code> and <code class="docutils literal notranslate"><span class="pre">tmount</span></code> which implement INDI devices Camera, OTA and Mount, respectively.</p>
<p>Remote <code class="docutils literal notranslate"><span class="pre">indiserver</span></code> connections are useful in several scenarios. One possibility is to allow Drivers to run on platforms most appropriate to the hardware they are controlling and yet be combined with Devices on other platforms. For example, suppose a camera device requires a special hardware connection and dedicated processing so its driver is run on <code class="docutils literal notranslate"><span class="pre">host1</span></code>. Other devices are simpler and can be run on <code class="docutils literal notranslate"><span class="pre">host2</span></code>. In this case, the camera device might be run as follows (the prompt denotes the host name):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">host1</span><span class="p">:</span> <span class="n">indiserver</span> <span class="n">cam</span>
</pre></div>
</div>
<p>and combined with other drivers as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">host2</span><span class="p">:</span> <span class="n">indiserver</span> <span class="n">Camera</span><span class="nd">@host1</span> <span class="n">ota</span> <span class="n">tmount</span>
</pre></div>
</div>
<p>In this way an INDI client connecting to host2 seemlessly sees all the devices Camera, OTA and Mount.</p>
<p>This technique can also be used to manage which Devices are available to INDI clients depending on where they connect. Continuing with the example before, if a client connects to host1 it will only see device Camera, but clients connecting to host2 will see Camera, OTA and Mount. In this way, certain devices can be hidden from, say, external access to a facility.</p>
</div>
<div class="section" id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="evalINDI.html"><span class="doc">evalINDI</span></a></p></li>
<li><p><a class="reference internal" href="setINDI.html"><span class="doc">setINDI</span></a></p></li>
<li><p><a class="reference internal" href="getINDI.html"><span class="doc">getINDI</span></a></p></li>
<li><p>The <a class="reference external" href="http://www.clearskyinstitute.com/INDI/INDI.pdf">INDI specification v. 1.7</a></p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="logdump.html" class="btn btn-neutral float-right" title="logdump" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="evalINDI.html" class="btn btn-neutral float-left" title="evalINDI" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Extreme Wavefront Control Lab, The University of Arizona

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>